# FreeGo é«˜æ€§èƒ½æ¡†æ¶

[![Go Version](https://img.shields.io/badge/go-%3E%3D1.21-blue.svg)](https://golang.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Go Report Card](https://goreportcard.com/badge/github.com/godaddy-x/freego)](https://goreportcard.com/report/github.com/godaddy-x/freego)

> ğŸš€ **ä¸“æ³¨äºæè‡´æ€§èƒ½ä¼˜åŒ–å’Œé‡‘èçº§å®‰å…¨æ ‡å‡†çš„ Go è¯­è¨€ä¼ä¸šçº§æ¡†æ¶**

**FreeGo** æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ Go è¯­è¨€ä¼ä¸šçº§æ¡†æ¶ï¼Œä¸“æ³¨äºæè‡´æ€§èƒ½ä¼˜åŒ–å’Œé‡‘èçº§å®‰å…¨æ ‡å‡†ã€‚æ¡†æ¶ç”±ä¸¤å¤§æ ¸å¿ƒç»„ä»¶æ„æˆï¼Œé€‚ç”¨äºæ„å»ºé«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§çš„ Web åº”ç”¨ã€API æœåŠ¡å’Œæ•°æ®åº“å¯†é›†å‹ç³»ç»Ÿã€‚

## ğŸ“š ç›®å½•

- [ğŸš€ æ¡†æ¶æ¦‚è¿°](#-æ¡†æ¶æ¦‚è¿°)
- [ğŸ“‹ æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ğŸ—ï¸ æ¶æ„è®¾è®¡](#ï¸-æ¶æ„è®¾è®¡)
- [ğŸ”§ å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [ğŸ” é‡‘èçº§å®‰å…¨è®¤è¯ä½“ç³»](#-é‡‘èçº§å®‰å…¨è®¤è¯ä½“ç³»)
- [ğŸ›¡ï¸ è¿‡æ»¤å™¨ä¸ä¸­é—´ä»¶](#ï¸-è¿‡æ»¤å™¨ä¸ä¸­é—´ä»¶)
- [ğŸ“Š æ€§èƒ½ç›‘æ§](#-æ€§èƒ½ç›‘æ§)
- [ğŸš€ éƒ¨ç½²ä¸é…ç½®](#-éƒ¨ç½²ä¸é…ç½®)
- [ğŸ“ˆ æ€§èƒ½ä¼˜åŠ¿](#-æ€§èƒ½ä¼˜åŠ¿)
- [ğŸ”§ æœ€ä½³å®è·µ](#-æœ€ä½³å®è·µ)
- [ğŸ—„ï¸ FreeGo ORM](#ï¸-freego-orm)
- [ğŸ¯ æ€»ç»“](#-æ€»ç»“)

## ğŸš€ æ¡†æ¶æ¦‚è¿°

FreeGo æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ Go è¯­è¨€ä¼ä¸šçº§æ¡†æ¶ï¼Œä¸“æ³¨äºæè‡´æ€§èƒ½ä¼˜åŒ–å’Œé‡‘èçº§å®‰å…¨æ ‡å‡†ã€‚æ¡†æ¶ç”±ä¸¤å¤§æ ¸å¿ƒç»„ä»¶æ„æˆï¼š

- **Server & API æ¡†æ¶**ï¼šåŸºäº FastHTTP æ„å»ºçš„é«˜æ€§èƒ½ HTTP æœåŠ¡ï¼Œæä¾›å®Œæ•´çš„ API äº¤äº’è§£å†³æ–¹æ¡ˆï¼Œé›†æˆè®¤è¯ã€æˆæƒã€é™æµã€åŠ å¯†ç­‰ä¼ä¸šçº§åŠŸèƒ½
- **ORM æ•°æ®åº“æ¡†æ¶**ï¼šä¸“æ³¨äºæè‡´æ€§èƒ½ä¼˜åŒ–çš„æ•°æ®åº“æ“ä½œæ¡†æ¶ï¼Œé€šè¿‡ç²¾ç¡®å†…å­˜ç®¡ç†ã€é›¶åå°„æŠ€æœ¯å’Œæ™ºèƒ½å®¹é‡é¢„ä¼°ï¼Œå®ç°æ¯”ä¸»æµ ORM æ¡†æ¶æ˜¾è‘—çš„æ€§èƒ½æå‡å’Œå†…å­˜æ•ˆç‡

é€‚ç”¨äºæ„å»ºé«˜æ€§èƒ½ã€é«˜å®‰å…¨æ€§çš„ Web åº”ç”¨ã€API æœåŠ¡å’Œæ•°æ®åº“å¯†é›†å‹ç³»ç»Ÿã€‚

## ğŸ“‹ æ ¸å¿ƒç‰¹æ€§

### ğŸŒ **Server & API æ¡†æ¶ç‰¹æ€§**

| ç‰¹æ€§                | æè¿°                               | ä¼˜åŠ¿                             |
| ------------------- | ---------------------------------- | -------------------------------- |
| **ğŸš€ é«˜æ€§èƒ½ HTTP**  | åŸºäº FastHTTPï¼Œæ¯”æ ‡å‡†åº“å¿« 3-5 å€   | å•æœº QPS 50,000+ï¼Œå“åº”å»¶è¿Ÿ < 1ms |
| **ğŸ” é‡‘èçº§å®‰å…¨**   | JWT Tokenã€RSA/ECCã€AES åŠ å¯†       | ç¬¦åˆ PCI DSSã€ISO 27001 ç­‰æ ‡å‡†   |
| **ğŸ”’ å¤šé‡ç­¾åéªŒè¯** | HMAC-SHA256 ç­¾å + æ—¶é—´æˆ³ + éšæœºæ•° | é˜²æ­¢é‡æ”¾æ”»å‡»ï¼Œé‡‘èçº§å®‰å…¨ä¿éšœ     |
| **ğŸ‘¥ æƒé™ç®¡ç†**     | RBAC è§’è‰²æƒé™æ§åˆ¶                  | çµæ´»çš„æƒé™é…ç½®ï¼Œä¼ä¸šçº§è®¿é—®æ§åˆ¶   |
| **âš¡ æ™ºèƒ½é™æµ**     | ç½‘å…³ã€æ–¹æ³•ã€ç”¨æˆ·ä¸‰çº§é™æµ           | é˜²æ­¢ç³»ç»Ÿè¿‡è½½ï¼Œä¿éšœæœåŠ¡ç¨³å®šæ€§     |
| **ğŸ”§ è¿‡æ»¤å™¨é“¾**     | å®Œæ•´çš„ä¸­é—´ä»¶ç³»ç»Ÿ                   | æ”¯æŒè‡ªå®šä¹‰è¿‡æ»¤å™¨ï¼Œæ‰©å±•æ€§å¼º       |

### ğŸ—„ï¸ **ORM æ•°æ®åº“æ¡†æ¶ç‰¹æ€§**

| ç‰¹æ€§              | æè¿°                                   | æ€§èƒ½æå‡                 |
| ----------------- | -------------------------------------- | ------------------------ |
| **ğŸ’¾ é›¶å†…å­˜æµªè´¹** | ç²¾ç¡®å®¹é‡é¢„åˆ†é…ï¼Œ100% é›¶æ‰©å®¹            | å‡å°‘ GC å‹åŠ›ï¼Œæå‡æ€§èƒ½   |
| **âš¡ é›¶åå°„å¼€é”€** | å…³é”®è·¯å¾„é¿å…åå°„ï¼Œç›´æ¥å†…å­˜æ“ä½œ         | ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨ï¼Œæ€§èƒ½æœ€ä¼˜ |
| **ğŸ§  æ™ºèƒ½é¢„ä¼°**   | é€’å½’ OR æ¡ä»¶é¢„ä¼°ï¼Œå¤æ‚æŸ¥è¯¢ç²¾ç¡®å®¹é‡è®¡ç®— | å¤æ‚æŸ¥è¯¢æ€§èƒ½å¤§å¹…æå‡     |
| **ğŸ”„ é«˜å¹¶å‘**     | æ™ºèƒ½è¿æ¥æ± ç®¡ç†ï¼ŒåŸå­æ“ä½œå¹¶å‘å®‰å…¨       | æ”¯æŒé«˜å¹¶å‘æ•°æ®åº“æ“ä½œ     |
| **ğŸš€ æ€§èƒ½ä¼˜ç§€**   | é’ˆå¯¹å¤æ‚æŸ¥è¯¢ä¼˜åŒ–ï¼Œå†…å­˜æ•ˆç‡é¢†å…ˆ         | **é«˜é¢‘ SQL ä¸‹æ€§èƒ½ä¼˜å¼‚**  |

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ ¸å¿ƒç»„ä»¶æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FreeGo Framework                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   Application Layer (åº”ç”¨å±‚)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  HTTP Server (FastHTTP)                                  â”‚   â”‚
â”‚  â”‚  â€¢ å•æœº QPS: 50,000+                                     â”‚   â”‚
â”‚  â”‚  â€¢ å“åº”å»¶è¿Ÿ: < 1ms                                       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  Filter Chain (è¿‡æ»¤å™¨é“¾)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ é™æµè¿‡æ»¤å™¨  â”‚ å‚æ•°è¿‡æ»¤å™¨  â”‚ ä¼šè¯è¿‡æ»¤å™¨  â”‚ æƒé™è¿‡æ»¤å™¨  â”‚ è‡ªå®šä¹‰â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 Security & Crypto (å®‰å…¨å±‚)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ JWT è®¤è¯   â”‚ RSA/ECC åŠ å¯†â”‚ AES åŠ å¯†   â”‚ HMACç­¾å   â”‚ é˜²é‡æ”¾â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                Business Logic Layer (ä¸šåŠ¡å±‚)                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ è¯·æ±‚ä¸Šä¸‹æ–‡  â”‚ è·¯ç”±ç®¡ç†    â”‚ ä¸­é—´ä»¶ç®¡ç†  â”‚ é”™è¯¯å¤„ç†    â”‚ ç›‘æ§ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  ORM Layer (æ•°æ®è®¿é—®å±‚)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  FreeGo ORM                                              â”‚   â”‚
â”‚  â”‚  â€¢ é›¶å†…å­˜æµªè´¹ â€¢ é›¶åå°„å¼€é”€ â€¢ ç²¾ç¡®å®¹é‡é¢„ä¼°                  â”‚   â”‚
â”‚  â”‚  â€¢ é›¶å†…å­˜æµªè´¹ï¼Œæ€§èƒ½æ˜¾è‘—æå‡                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 Database Layer (æ•°æ®åº“å±‚)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   MySQL    â”‚ PostgreSQL â”‚   MongoDB  â”‚   Redis    â”‚ å…¶ä»–  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ã€æ€§èƒ½æŒ‡æ ‡ã€‘
â€¢ HTTP QPS: 50,000+          â€¢ ORM æŸ¥è¯¢: 0 allocs/op
â€¢ å“åº”å»¶è¿Ÿ: < 1ms            â€¢ å†…å­˜å ç”¨: < 100MB
â€¢ å¹¶å‘è¿æ¥: 10,000+          â€¢ CPU ä½¿ç”¨: < 30%
```

## ğŸ”§ å¿«é€Ÿå¼€å§‹

### ğŸ“¦ å®‰è£…

```bash
# å®‰è£… FreeGo æ¡†æ¶
go get github.com/godaddy-x/freego

# éªŒè¯å®‰è£…
go mod tidy
go build .
```

### ğŸš€ å®Œæ•´ç¤ºä¾‹

#### **1. åˆ›å»ºé¡¹ç›®ç»“æ„**

```bash
mkdir my-freego-app
cd my-freego-app
go mod init my-freego-app
```

#### **2. å®‰è£…ä¾èµ–**

```bash
go get github.com/godaddy-x/freego
```

#### **3. åŸºç¡€ HTTP æœåŠ¡**

```go
package main

import (
    "fmt"
    "github.com/godaddy-x/freego/node"
    "github.com/godaddy-x/freego/ormx/sqld"
    "github.com/godaddy-x/freego/ormx/sqlc"
    "github.com/godaddy-x/freego/utils"
    "github.com/godaddy-x/freego/utils/jwt"
    "github.com/godaddy-x/freego/utils/crypto"
    "github.com/godaddy-x/freego/ex"
)

func main() {
    // åˆ›å»º HTTP èŠ‚ç‚¹
    httpNode := &node.HttpNode{}

    // é…ç½® JWT è®¤è¯
    httpNode.AddJwtConfig(jwt.JwtConfig{
        TokenTyp: jwt.JWT,
        TokenAlg: jwt.HS256,
        TokenKey: "your-256-bit-secret-key-here", // å»ºè®®ä½¿ç”¨å¼ºå¯†é’¥
        TokenExp: jwt.FIFTEEN_MINUTES,           // é‡‘èçº§ï¼šçŸ­è¿‡æœŸæ—¶é—´
    })

    // é…ç½®ç³»ç»Ÿä¿¡æ¯
    httpNode.SetSystem("MySecureApp", "1.0.0")

    // é…ç½® RSA/ECC åŠ å¯†ï¼ˆé‡‘èçº§å®‰å…¨ï¼‰
    cipher := &crypto.EccObj{}
    if err := cipher.LoadS256ECC("your-private-key.pem"); err != nil {
        panic("ECC certificate load failed")
    }
    httpNode.AddCipher(cipher)

    // æ·»åŠ è·¯ç”± - ç™»å½•æ¥å£ï¼ˆä½¿ç”¨ RSA åŠ å¯†ï¼‰
    httpNode.POST("/api/auth/login", loginHandler, &node.RouterConfig{
        Guest:   true,  // æ¸¸å®¢å¯è®¿é—®
        UseRSA:  true,  // RSA/ECC åŠ å¯†
    })

    // æ·»åŠ è·¯ç”± - ç”¨æˆ·èµ„æ–™ï¼ˆéœ€è¦è®¤è¯ + AES åŠ å¯†ï¼‰
    httpNode.POST("/api/user/profile", profileHandler, &node.RouterConfig{
        AesRequest:  true, // è¯·æ±‚ AES åŠ å¯†
        AesResponse: true, // å“åº” AES åŠ å¯†
    })

    // å¯åŠ¨æœåŠ¡
    // å¼€å‘ç¯å¢ƒï¼šhttpNode.StartServer(":8080")
    // ç”Ÿäº§ç¯å¢ƒï¼šhttpNode.StartServerTLS(":8443", "server.crt", "server.key")
    httpNode.StartServer(":8080")
}

// ç™»å½•å¤„ç†
func loginHandler(ctx *node.Context) error {
    // è·å–è¯·æ±‚æ•°æ®
    username := utils.GetJsonString(ctx.JsonBody.Data, "username")
    password := utils.GetJsonString(ctx.JsonBody.Data, "password")

    // éªŒè¯ç”¨æˆ·
    if !validateUser(username, password) {
        return ctx.Json(map[string]interface{}{
            "success": false,
            "message": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯",
        })
    }

    // ç”Ÿæˆ JWT Token å’Œ Secret
    config := ctx.GetJwtConfig()

    // 1. åˆ›å»º Subject å¹¶ç”Ÿæˆ Token
    token := ctx.Subject.Create(utils.NextSID()).Dev("APP").Generate(config)

    // 2. åŸºäº Token ç”Ÿæˆ Secretï¼ˆé‡è¦ï¼šSecret ä¸ Token ç»‘å®šï¼‰
    secret := ctx.Subject.GetTokenSecret(token, config.TokenKey)

    // 3. è¿”å› Token å’Œ Secret ç»™å®¢æˆ·ç«¯
    return ctx.Json(map[string]interface{}{
        "success": true,
        "token":   token,
        "secret":  secret,
        "expires": ctx.Subject.Payload.Exp,
    })
}

// ç”¨æˆ·èµ„æ–™å¤„ç†
func profileHandler(ctx *node.Context) error {
    // JWT éªŒè¯ç”± SessionFilter è‡ªåŠ¨å¤„ç†
    userID := ctx.Subject.GetSub()

    // è·å–ç”¨æˆ·èµ„æ–™
    profile := getUserProfile(userID)

    return ctx.Json(profile)
}

// æµ‹è¯•è¿è¡Œ
func main() {
    // è¿è¡Œä¸Šé¢çš„ä»£ç ï¼Œç„¶åæµ‹è¯•ï¼š

    // 1. å¥åº·æ£€æŸ¥æ¥å£ï¼ˆå¯é€‰ï¼‰
    httpNode.GET("/health", func(ctx *node.Context) error {
        return ctx.Json(map[string]interface{}{
            "status": "ok",
            "timestamp": utils.UnixSecond(),
        })
    })

    // å¯åŠ¨æœåŠ¡
    fmt.Println("ğŸš€ FreeGo server starting on :8080")
    httpNode.StartServer(":8080")
}
```

#### **4. è¿è¡Œæµ‹è¯•**

```bash
# è¿è¡ŒæœåŠ¡
go run main.go

# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:8080/health
# å“åº”: {"status":"ok","timestamp":1703123456}

# å¯åŠ¨åè®¿é—®: http://localhost:8080
```

#### **5. è¿è¡Œæ€§èƒ½åŸºå‡†æµ‹è¯•**

````bash
#### **æ€§èƒ½æµ‹è¯•ç»“æœé¢„è§ˆ (å¹¶å‘æ¨¡å¼)**

| æ¡†æ¶           | å¹³å‡æ—¶é—´/op | å†…å­˜åˆ†é…/op | åˆ†é…æ¬¡æ•°/op | ç›¸å¯¹æ€§èƒ½  | å†…å­˜æ•ˆç‡   |
| -------------- | ----------- | ----------- | ----------- | --------- | ---------- |
| **åŸç”Ÿ SQL**   | 1.67ms      | 8.5MB       | 60,053      | **1.00x** | â­â­â­â­â­ |
| **FreeGo ORM** | 1.99ms      | 7.1MB       | 95,123      | **1.19x** | â­â­â­â­â­ |
| **sqlx**       | 1.81ms      | 8.6MB       | 63,058      | **1.08x** | â­â­â­â­â­ |
| **GORM**       | 2.16ms      | 9.2MB       | 114,112     | **1.29x** | â­â­â­     |
| **Beego ORM**  | 2.51ms      | 15.8MB      | 237,221     | **1.50x** | â­â­       |
| **XORM**       | 2.85ms      | 19.1MB      | 279,189     | **1.71x** | â­â­       |

> ğŸ’¡ **è¯´æ˜**: ä»¥ä¸Šä¸ºå¹¶å‘æ¨¡å¼æµ‹è¯•ç»“æœï¼Œæ›´çœŸå®åœ°åæ˜ ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ã€‚å®Œæ•´æµ‹è¯•ç»“æœåŠé¡ºåºæ¨¡å¼å¯¹æ¯”è¯·å‚è€ƒ [FreeGo ORM](#ï¸-freego-orm) ç« èŠ‚ã€‚

#### **5. ORM ä½¿ç”¨ç¤ºä¾‹**

```go
// models/user.go
package models

import "github.com/godaddy-x/freego/ormx/sqlc"

type User struct {
    ID       int64  `json:"id"`
    Username string `json:"username"`
    Email    string `json:"email"`
    Status   int    `json:"status"`
}

// å®ç° sqlc.Object æ¥å£
func (u *User) NewObject() sqlc.Object {
    return &User{}
}

// åœ¨ handlers ä¸­ä½¿ç”¨
func getUserHandler(ctx *node.Context) error {
    userID := utils.GetJsonInt64(ctx.JsonBody.Data, "userId")

    // FreeGo ORM æŸ¥è¯¢
    db, _ := sqld.NewMysqlTx(false)
    defer db.Close()

    user := &User{}
    err := db.FindOne(sqlc.M("ow_user").Where("id", userID), user)
    if err != nil {
        return ex.Throw{Code: 500, Msg: "æŸ¥è¯¢å¤±è´¥"}
    }

    return ctx.Json(user)
}
````

## ğŸ” é‡‘èçº§å®‰å…¨è®¤è¯ä½“ç³»

### ğŸ¦ é‡‘èçº§å®‰å…¨æ ‡å‡†

FreeGo æ¡†æ¶é‡‡ç”¨é‡‘èè¡Œä¸šçº§åˆ«çš„å®‰å…¨è®¤è¯æœºåˆ¶ï¼Œæ»¡è¶³ä»¥ä¸‹å®‰å…¨æ ‡å‡†ï¼š

- **PCI DSS**: æ”¯ä»˜å¡è¡Œä¸šæ•°æ®å®‰å…¨æ ‡å‡†
- **SOX**: è¨ç­æ–¯-å¥¥å…‹æ–¯åˆ©æ³•æ¡ˆåˆè§„
- **ISO 27001**: ä¿¡æ¯å®‰å…¨ç®¡ç†ä½“ç³»
- **FIDO2**: å¿«é€Ÿèº«ä»½åœ¨çº¿è”ç›Ÿæ ‡å‡†
- **NIST**: ç¾å›½å›½å®¶æ ‡å‡†ä¸æŠ€æœ¯ç ”ç©¶é™¢å®‰å…¨æ¡†æ¶

### ğŸ”‘ æ ¸å¿ƒå®‰å…¨æœºåˆ¶

#### 1. **JWT Token ä¸ Secret åŒé‡è®¤è¯**

```go
// JWT é…ç½®
httpNode.AddJwtConfig(jwt.JwtConfig{
    TokenTyp: jwt.JWT,
    TokenAlg: jwt.HS256,           // HMAC-SHA256 ç®—æ³•
    TokenKey: generateSecureKey(), // 256ä½å¯†é’¥
    TokenExp: jwt.FIFTEEN_MINUTES, // 15åˆ†é’Ÿè¿‡æœŸï¼ˆé‡‘èçº§çŸ­è¿‡æœŸï¼‰
})

// ç™»å½•æ—¶ç”Ÿæˆ Token å’Œ Secret
func loginHandler(ctx *node.Context) error {
    // éªŒè¯ç”¨æˆ·...

    config := ctx.GetJwtConfig()

    // 1. åˆ›å»º Subject å¹¶ç”Ÿæˆ Token
    // - Create(userID): è®¾ç½®ç”¨æˆ·ID
    // - Dev(deviceType): è®¾ç½®è®¾å¤‡ç±»å‹ï¼ˆAPP/WEB/IOS/ANDROIDï¼‰
    // - Generate(config): ç”Ÿæˆ JWT Token
    token := ctx.Subject.Create(utils.NextSID()).Dev("APP").Generate(config)

    // 2. åŸºäº Token ç”Ÿæˆ Secretï¼ˆé‡è¦ï¼šSecret ä¸ Token ç»‘å®šï¼‰
    // GetTokenSecret æ–¹æ³•ä¼šï¼š
    // - è§£æ Token è·å–ç”¨æˆ·ä¿¡æ¯
    // - ä½¿ç”¨ TokenKey å’Œç”¨æˆ·ä¿¡æ¯ç”Ÿæˆå”¯ä¸€çš„ Secret
    // - Secret ä¸ Token ä¸€ä¸€å¯¹åº”ï¼Œæ— æ³•ä¼ªé€ 
    secret := ctx.Subject.GetTokenSecret(token, config.TokenKey)

    // 3. è¿”å› Token å’Œ Secret ç»™å®¢æˆ·ç«¯
    return ctx.Json(map[string]interface{}{
        "token":   token,
        "secret":  secret,
        "expires": ctx.Subject.Payload.Exp,
    })
}

// å®¢æˆ·ç«¯ä½¿ç”¨ Token å’Œ Secret
// - Token: æ”¾åœ¨ HTTP Header Authorization ä¸­
// - Secret: ç”¨äºç”Ÿæˆè¯·æ±‚ç­¾åï¼ˆSignï¼‰
```

#### 2. **è¯·æ±‚ç­¾åéªŒè¯**

æ¡†æ¶è‡ªåŠ¨éªŒè¯æ¯ä¸ªè¯·æ±‚çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹å’Œé‡æ”¾æ”»å‡»ï¼š

```go
// è¯·æ±‚æ ¼å¼
type JsonBody struct {
    Data  interface{} `json:"d"` // æ•°æ®
    Time  int64       `json:"t"` // æ—¶é—´æˆ³
    Nonce string      `json:"n"` // éšæœºæ•°
    Plan  int64       `json:"p"` // åŠ å¯†æ–¹æ¡ˆï¼š0.é»˜è®¤ 1.AES 2.RSA/ECC
    Sign  string      `json:"s"` // ç­¾å
}

// å“åº”æ ¼å¼
type JsonResp struct {
    Code    int         `json:"c"` // çŠ¶æ€ç 
    Message string      `json:"m"` // æ¶ˆæ¯
    Data    interface{} `json:"d"` // æ•°æ®
    Time    int64       `json:"t"` // æ—¶é—´æˆ³
    Nonce   string      `json:"n"` // éšæœºæ•°
    Plan    int64       `json:"p"` // åŠ å¯†æ–¹æ¡ˆ
    Sign    string      `json:"s"` // ç­¾å
}

// å®¢æˆ·ç«¯è¯·æ±‚ç¤ºä¾‹
func makeRequest(token, secret string, data interface{}) error {
    // 1. å‡†å¤‡è¯·æ±‚æ•°æ®
    timestamp := utils.UnixSecond()
    nonce := utils.RandNonce()

    // 2. ç”Ÿæˆç­¾å
    // ç­¾åè§„åˆ™ï¼šHMAC-SHA256(d+n+t+p, secret)
    // - d: æ•°æ®ï¼ˆDataï¼‰
    // - n: éšæœºæ•°ï¼ˆNonceï¼‰
    // - t: æ—¶é—´æˆ³ï¼ˆTimeï¼‰
    // - p: åŠ å¯†æ–¹æ¡ˆï¼ˆPlanï¼‰
    // - secret: å¯†é’¥
    dataJSON, _ := json.Marshal(data)
    plan := 0 // é»˜è®¤æ–¹æ¡ˆ
    signMessage := fmt.Sprintf("%s%s%d%d", dataJSON, nonce, timestamp, plan)
    sign := utils.HmacSHA256(signMessage, secret)

    // 3. æ„é€ è¯·æ±‚ä½“
    requestBody := JsonBody{
        Data:  data,
        Time:  timestamp,
        Nonce: nonce,
        Plan:  0, // é»˜è®¤æ–¹æ¡ˆ
        Sign:  sign,
    }

    // 4. å‘é€è¯·æ±‚
    req, _ := http.NewRequest("POST", "http://localhost:8080/api/user/profile", nil)
    req.Header.Set("Authorization", token)
    req.Header.Set("Content-Type", "application/json")

    // 5. æ¡†æ¶ä¼šè‡ªåŠ¨éªŒè¯ï¼š
    //    - Token æ˜¯å¦æœ‰æ•ˆ
    //    - ç­¾åæ˜¯å¦æ­£ç¡®ï¼ˆä½¿ç”¨ HMAC-SHA256 éªŒè¯ï¼‰
    //    - æ—¶é—´æˆ³æ˜¯å¦åœ¨å…è®¸èŒƒå›´å†…
    //    - éšæœºæ•°æ˜¯å¦å·²ä½¿ç”¨ï¼ˆé˜²é‡æ”¾ï¼‰

    return nil
}
```

#### 3. **GetTokenSecret æ–¹æ³•çš„æ ¸å¿ƒå®‰å…¨æœºåˆ¶**

```go
// GetTokenSecret æ˜¯æ¡†æ¶çš„æ ¸å¿ƒå®‰å…¨æ–¹æ³•
//
// å·¥ä½œåŸç†ï¼š
// secret := ctx.Subject.GetTokenSecret(token, config.TokenKey)
//
// 1. è§£æ Token è·å–ç”¨æˆ·ä¿¡æ¯ï¼ˆuserID, deviceID, expç­‰ï¼‰
// 2. ä½¿ç”¨ TokenKey å’Œ Token å†…å®¹ç”Ÿæˆå”¯ä¸€çš„ Secret
// 3. Secret ä¸ Token ä¸€ä¸€ç»‘å®šï¼Œæ— æ³•ä¼ªé€ 
// 4. å³ä½¿ Token æ³„éœ²ï¼Œæ²¡æœ‰ Secret ä¹Ÿæ— æ³•å‘èµ·æœ‰æ•ˆè¯·æ±‚
//
// å®‰å…¨ç‰¹æ€§ï¼š
// - Secret åŸºäº Token å†…å®¹åŠ¨æ€ç”Ÿæˆï¼Œæ¯ä¸ª Token å¯¹åº”å”¯ä¸€ Secret
// - Secret ä¸å­˜å‚¨åœ¨æ•°æ®åº“æˆ–ç¼“å­˜ä¸­ï¼Œå®Œå…¨åŸºäºç®—æ³•ç”Ÿæˆ
// - æ”»å‡»è€…å³ä½¿è·å– Tokenï¼Œä¹Ÿæ— æ³•æ¨ç®—å‡ºå¯¹åº”çš„ Secret
// - Secret ä¸ Token åŒæ—¶è¿‡æœŸï¼Œæ— éœ€é¢å¤–çš„è¿‡æœŸç®¡ç†
//
// Token å’Œ Secret çš„ä½œç”¨ï¼š
//
// Token (JWT):
// - ç”¨äºèº«ä»½è®¤è¯
// - åŒ…å«ç”¨æˆ·ä¿¡æ¯ï¼ˆuserID, deviceID, è¿‡æœŸæ—¶é—´ç­‰ï¼‰
// - æ”¾åœ¨ HTTP Header Authorization ä¸­
// - æœåŠ¡ç«¯éªŒè¯ Token çš„æœ‰æ•ˆæ€§å’Œè¿‡æœŸæ—¶é—´
//
// Secret:
// - ç”¨äºè¯·æ±‚ç­¾å
// - åŸºäº Token åŠ¨æ€ç”Ÿæˆï¼Œä¸ Token ä¸€ä¸€å¯¹åº”
// - å®¢æˆ·ç«¯ä½¿ç”¨ Secret å¯¹æ¯ä¸ªè¯·æ±‚è¿›è¡Œç­¾å
// - æœåŠ¡ç«¯ä½¿ç”¨ç›¸åŒç®—æ³•é‡æ–°ç”Ÿæˆ Secret éªŒè¯ç­¾å
//
// åŒé‡éªŒè¯æœºåˆ¶ï¼š
// 1. Token éªŒè¯ï¼šç¡®è®¤ç”¨æˆ·èº«ä»½
// 2. ç­¾åéªŒè¯ï¼šä½¿ç”¨ Secret ç¡®è®¤è¯·æ±‚å®Œæ•´æ€§å’Œé˜²ç¯¡æ”¹
// 3. æ—¶é—´æˆ³éªŒè¯ï¼šé˜²æ­¢é‡æ”¾æ”»å‡»
// 4. éšæœºæ•°éªŒè¯ï¼šç¡®ä¿è¯·æ±‚å”¯ä¸€æ€§
//
// é‡‘èçº§å®‰å…¨ä¿éšœï¼š
// - å³ä½¿ Token è¢«æˆªè·ï¼Œæ”»å‡»è€…æ— æ³•ç”Ÿæˆæœ‰æ•ˆç­¾å
// - Secret ä¸é€šè¿‡ç½‘ç»œä¼ è¾“ï¼ˆé™¤äº†ç™»å½•æ—¶è¿”å›ç»™å®¢æˆ·ç«¯ï¼‰
// - æ¯æ¬¡ç™»å½•ç”Ÿæˆæ–°çš„ Token å’Œ Secret
// - Token è¿‡æœŸå Secret è‡ªåŠ¨å¤±æ•ˆ
```

#### 4. **å¤šé‡åŠ å¯†æ–¹æ¡ˆ**

```go
// åŠ å¯†æ–¹æ¡ˆé…ç½®
type RouterConfig struct {
    Guest       bool // æ¸¸å®¢æ¨¡å¼ï¼ˆæ— éœ€è®¤è¯ï¼‰
    UseRSA      bool // ä½¿ç”¨ RSA/ECC åŠ å¯†
    AesRequest  bool // è¯·æ±‚ AES åŠ å¯†
    AesResponse bool // å“åº” AES åŠ å¯†
}

// é…ç½® ECC åŠ å¯†
cipher := &crypto.EccObj{}
if err := cipher.LoadS256ECC(privateKey); err != nil {
    panic("ECC certificate generation failed")
}
httpNode.AddCipher(cipher)

// æˆ–é…ç½® RSA/ECC åŠ å¯†
cipher := &crypto.RsaObj{}
if err := cipher.CreateRsa2048(); err != nil {
    panic("RSA certificate generation failed")
}
httpNode.AddCipher(cipher)
```

#### 5. **é˜²é‡æ”¾æ”»å‡»æœºåˆ¶**

æ¡†æ¶å†…ç½®é˜²é‡æ”¾æ”»å‡»æœºåˆ¶ï¼š

- **æ—¶é—´æˆ³éªŒè¯**: è¯·æ±‚æ—¶é—´æˆ³å¿…é¡»åœ¨å…è®¸çš„æ—¶é—´çª—å£å†…ï¼ˆé»˜è®¤ 5 åˆ†é’Ÿï¼‰
- **éšæœºæ•°éªŒè¯**: æ¯ä¸ªè¯·æ±‚çš„éšæœºæ•°å¿…é¡»å”¯ä¸€ï¼Œé˜²æ­¢é‡æ”¾
- **HMAC-SHA256 ç­¾å**: ä½¿ç”¨ Secret ç”Ÿæˆç­¾åï¼ŒéªŒè¯è¯·æ±‚æ•°æ®çš„å®Œæ•´æ€§

```go
// æ¡†æ¶è‡ªåŠ¨éªŒè¯æµç¨‹
// 1. Token éªŒè¯ï¼šéªŒè¯ JWT Token æ˜¯å¦æœ‰æ•ˆ
// 2. æ—¶é—´æˆ³éªŒè¯ï¼šæ£€æŸ¥è¯·æ±‚æ—¶é—´æ˜¯å¦åœ¨å…è®¸èŒƒå›´å†…ï¼ˆ5åˆ†é’Ÿçª—å£ï¼‰
// 3. éšæœºæ•°éªŒè¯ï¼šæ£€æŸ¥ Nonce æ˜¯å¦å·²ä½¿ç”¨ï¼ˆé˜²é‡æ”¾ï¼‰
// 4. ç­¾åéªŒè¯ï¼šä½¿ç”¨ HMAC-SHA256(d+n+t+p, secret) éªŒè¯ç­¾åæ˜¯å¦æ­£ç¡®ï¼ˆé˜²ç¯¡æ”¹ï¼‰
//
// ç­¾åç®—æ³•ï¼š
// - æ¶ˆæ¯ï¼šdata + nonce + timestamp + plan
// - å¯†é’¥ï¼šsecretï¼ˆä½¿ç”¨ GetTokenSecret ç”Ÿæˆï¼‰
// - ç®—æ³•ï¼šHMAC-SHA256
//
// éªŒè¯å¤±è´¥ä¼šè¿”å›ç›¸åº”çš„é”™è¯¯ç ï¼š
// - 401: Token æ— æ•ˆæˆ–è¿‡æœŸ
// - 400: ç­¾åéªŒè¯å¤±è´¥
// - 400: æ—¶é—´æˆ³è¶…å‡ºèŒƒå›´
// - 400: éšæœºæ•°å·²ä½¿ç”¨ï¼ˆé‡æ”¾æ”»å‡»ï¼‰
```

#### 6. **ä¼šè¯å®‰å…¨ç®¡ç†**

```go
// ä¼šè¯è¿‡æ»¤å™¨è‡ªåŠ¨å¤„ç†
// - JWT Token éªŒè¯
// - Secret ç­¾åéªŒè¯ï¼ˆä½¿ç”¨ GetTokenSecret é‡æ–°ç”Ÿæˆ Secret è¿›è¡ŒéªŒè¯ï¼‰
// - ä¼šè¯è¿‡æœŸæ£€æŸ¥
// - å¹¶å‘ç™»å½•æ§åˆ¶
//
// Token å’Œ Secret çš„ç”Ÿå‘½å‘¨æœŸï¼š
// - ç™»å½•æ—¶ï¼šä½¿ç”¨ Generate() ç”Ÿæˆ Tokenï¼Œä½¿ç”¨ GetTokenSecret() ç”Ÿæˆ Secret
// - Secret ä¸å­˜å‚¨ï¼šå®Œå…¨åŸºäº Token å†…å®¹å’Œ TokenKey åŠ¨æ€ç”Ÿæˆ
// - éªŒè¯æ—¶ï¼šæœåŠ¡ç«¯ä½¿ç”¨ç›¸åŒçš„ GetTokenSecret() æ–¹æ³•é‡æ–°ç”Ÿæˆ Secret è¿›è¡Œæ¯”å¯¹
// - è¿‡æœŸç®¡ç†ï¼šToken è¿‡æœŸåï¼ŒGetTokenSecret() ç”Ÿæˆçš„ Secret ä¹Ÿè‡ªåŠ¨å¤±æ•ˆ
// - å®‰å…¨æ€§ï¼šå³ä½¿æ”»å‡»è€…è·å–äº† Tokenï¼Œä¹Ÿæ— æ³•æ¨ç®—å‡º Secret
//
// æœåŠ¡ç«¯éªŒè¯æµç¨‹ï¼š
// 1. ä» HTTP Header è·å– Token
// 2. éªŒè¯ Token çš„æœ‰æ•ˆæ€§ï¼ˆJWT éªŒè¯ï¼‰
// 3. ä½¿ç”¨ GetTokenSecret(token, tokenKey) é‡æ–°ç”Ÿæˆ Secret
// 4. æ¯”å¯¹å®¢æˆ·ç«¯ç­¾åå’ŒæœåŠ¡ç«¯ç”Ÿæˆçš„ç­¾å
// 5. éªŒè¯é€šè¿‡åå¤„ç†ä¸šåŠ¡é€»è¾‘
```

### ğŸ¯ å®‰å…¨æœ€ä½³å®è·µ

#### 1. **å¯†é’¥ç®¡ç†**

```go
// ä½¿ç”¨å¼ºå¯†é’¥
func generateSecureKey() string {
    // ä½¿ç”¨åŠ å¯†å®‰å…¨çš„éšæœºæ•°ç”Ÿæˆå™¨
    key := make([]byte, 32) // 256ä½
    if _, err := rand.Read(key); err != nil {
        panic("å¯†é’¥ç”Ÿæˆå¤±è´¥")
    }
    return base64.StdEncoding.EncodeToString(key)
}

// å®šæœŸè½®æ¢å¯†é’¥
// å»ºè®®æ¯30-90å¤©è½®æ¢ä¸€æ¬¡
```

#### 2. **Token è¿‡æœŸç­–ç•¥**

```go
// çŸ­æœŸ Tokenï¼ˆæ¨èï¼‰
TokenExp: jwt.FIFTEEN_MINUTES // 15åˆ†é’Ÿ

// ä¸­æœŸ Token
TokenExp: jwt.ONE_HOUR // 1å°æ—¶

// é•¿æœŸ Tokenï¼ˆä¸æ¨èç”¨äºé‡‘èåœºæ™¯ï¼‰
TokenExp: jwt.ONE_DAY // 1å¤©
```

#### 3. **åŠ å¯†é€šä¿¡é…ç½®**

```go
// ç™»å½•æ¥å£ä½¿ç”¨ RSA/ECC åŠ å¯†
httpNode.POST("/api/login", loginHandler, &node.RouterConfig{
    UseRSA: true,
})

// æ•æ„Ÿæ¥å£ä½¿ç”¨ AES åŠ å¯†
httpNode.POST("/api/payment", paymentHandler, &node.RouterConfig{
    AesRequest: true,
    AesResponse: true,
})

// å…¬å¼€æ¥å£ä½¿ç”¨æ¸¸å®¢æ¨¡å¼
httpNode.GET("/api/public", publicHandler, &node.RouterConfig{
    Guest: true,
})
```

## ğŸ›¡ï¸ è¿‡æ»¤å™¨ä¸ä¸­é—´ä»¶

### å†…ç½®è¿‡æ»¤å™¨

æ¡†æ¶æä¾›äº†å®Œæ•´çš„è¿‡æ»¤å™¨é“¾ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œï¼š

```go
// è¿‡æ»¤å™¨æ‰§è¡Œé¡ºåº
-1000: GatewayRateLimiterFilter  // ç½‘å…³é™æµ
 -900: ParameterFilter           // å‚æ•°è§£æ
 -800: SessionFilter             // ä¼šè¯éªŒè¯
 -700: UserRateLimiterFilter     // ç”¨æˆ·é™æµ
 -600: RoleFilter                // æƒé™éªŒè¯
    0: è‡ªå®šä¹‰è¿‡æ»¤å™¨              // ä¸šåŠ¡è¿‡æ»¤å™¨
  Max: PostHandleFilter          // åå¤„ç†ï¼ˆmath.MaxIntï¼‰
  Min: RenderHandleFilter        // æ¸²æŸ“å¤„ç†ï¼ˆmath.MinIntï¼‰
```

### è‡ªå®šä¹‰è¿‡æ»¤å™¨

```go
type CustomFilter struct{}

func (f *CustomFilter) DoFilter(chain node.Filter, ctx *node.Context, args ...interface{}) error {
    // å‰ç½®å¤„ç†
    zlog.Info("Custom filter before", 0, zlog.String("path", ctx.Path))

    // ç»§ç»­æ‰§è¡Œè¿‡æ»¤å™¨é“¾
    if err := chain.DoFilter(chain, ctx, args...); err != nil {
        return err
    }

    // åç½®å¤„ç†
    zlog.Info("Custom filter after", 0, zlog.String("path", ctx.Path))

    return nil
}

// æ³¨å†Œè‡ªå®šä¹‰è¿‡æ»¤å™¨
httpNode.AddFilter(&node.FilterObject{
    Name: "CustomFilter",
    Order: 50,
    Filter: &CustomFilter{},
    MatchPattern: []string{"/api/*"}, // åŒ¹é…æ¨¡å¼
})
```

### æƒé™æ§åˆ¶

```go
// è§’è‰²æƒé™é…ç½®
func roleRealm(ctx *node.Context, onlyRole bool) (*node.Permission, error) {
    permission := &node.Permission{}

    if onlyRole {
        // è·å–ç”¨æˆ·æ‹¥æœ‰çš„è§’è‰²
        userRoles := getUserRoles(ctx.Subject.GetSub())
        permission.HasRole = userRoles
        return permission, nil
    }

    // è·å–æ¥å£æ‰€éœ€çš„è§’è‰²
    requiredRoles := getRequiredRoles(ctx.Path)
    permission.NeedRole = requiredRoles
    permission.MatchAll = false // false: ä»»æ„åŒ¹é…, true: å…¨éƒ¨åŒ¹é…

    return permission, nil
}

// è®¾ç½®æƒé™éªŒè¯
httpNode.AddRoleRealm(roleRealm)
```

## ğŸ“Š æ€§èƒ½ç›‘æ§

### è¯·æ±‚æ—¥å¿—

```go
type RequestLogger struct{}

func (l *RequestLogger) DoFilter(chain node.Filter, ctx *node.Context, args ...interface{}) error {
    startTime := time.Now()

    // è®°å½•è¯·æ±‚å¼€å§‹
    zlog.Info("Request started", 0,
        zlog.String("method", ctx.Method),
        zlog.String("path", ctx.Path),
        zlog.String("ip", ctx.RemoteIP()),
    )

    // æ‰§è¡Œè¯·æ±‚
    err := chain.DoFilter(chain, ctx, args...)

    // è®°å½•è¯·æ±‚ç»“æŸ
    duration := time.Since(startTime)
    zlog.Info("Request completed", 0,
        zlog.String("method", ctx.Method),
        zlog.String("path", ctx.Path),
        zlog.Duration("duration", duration),
        zlog.Any("error", err),
    )

    return err
}
```

### é™æµé…ç½®

```go
// é…ç½®é™æµ
node.SetGatewayRateLimiter(rate.Option{
    Limit: 200,          // 200 QPS
    Bucket: 2000,        // æ¡¶å®¹é‡
    Expire: 30,          // è¿‡æœŸæ—¶é—´
    Distributed: true,   // åˆ†å¸ƒå¼é™æµ
})

node.SetMethodRateLimiter(rate.Option{
    Limit: 100,
    Bucket: 1000,
    Expire: 30,
    Distributed: true,
})

node.SetUserRateLimiter(rate.Option{
    Limit: 10,
    Bucket: 50,
    Expire: 30,
    Distributed: true,
})
```

## ğŸš€ éƒ¨ç½²ä¸é…ç½®

### ç”Ÿäº§ç¯å¢ƒé…ç½®

```go
func setupProduction() {
    // 1. é…ç½®ç³»ç»Ÿä¿¡æ¯
    httpNode.SetSystem("ProductionApp", "1.0.0")

    // 2. é…ç½®è¶…æ—¶
    httpNode.StartServerByTimeout(":8080", 30) // 30ç§’è¶…æ—¶

    // 3. é…ç½®ç¼“å­˜
    httpNode.AddCache(func(ds ...string) (cache.Cache, error) {
        return cache.NewRedis("localhost:6379")
    })

    // 4. é…ç½®é”™è¯¯å¤„ç†
    httpNode.AddErrorHandle(func(ctx *node.Context, throw ex.Throw) error {
        zlog.Error("API Error", 0,
            zlog.String("path", ctx.Path),
            zlog.Int("code", throw.Code),
            zlog.String("message", throw.Msg),
            zlog.Any("error", throw.Err),
        )
        return throw
    })
}
```

### Docker éƒ¨ç½²

```dockerfile
FROM golang:1.21-alpine AS builder

WORKDIR /app
COPY . .
RUN go mod download
RUN go build -o main .

FROM alpine:latest
RUN apk --no-cache add ca-certificates
WORKDIR /root/
COPY --from=builder /app/main .
COPY --from=builder /app/resource ./resource

EXPOSE 8080 8081
CMD ["./main"]
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŠ¿

### åŸºå‡†æµ‹è¯•ç»“æœ

```
HTTP è¯·æ±‚å¤„ç†æ€§èƒ½:
- å•æœº QPS: 50,000+
- å†…å­˜å ç”¨: < 100MB
- CPU ä½¿ç”¨ç‡: < 30%
- å“åº”å»¶è¿Ÿ: < 1ms
```

### æ€§èƒ½ä¼˜åŒ–ç‰¹æ€§

1. **FastHTTP å¼•æ“**: æ¯”æ ‡å‡† net/http å¿« 3-5 å€
2. **å†…å­˜æ± ç®¡ç†**: å‡å°‘ GC å‹åŠ›ï¼Œæå‡æ€§èƒ½
3. **è¿æ¥å¤ç”¨**: æ™ºèƒ½è¿æ¥æ± ç®¡ç†
4. **å¹¶å‘å®‰å…¨**: é«˜å¹¶å‘å¤„ç†èƒ½åŠ›
5. **é™æµä¿æŠ¤**: é˜²æ­¢ç³»ç»Ÿè¿‡è½½

## ğŸ”§ æœ€ä½³å®è·µ

### 1. é”™è¯¯å¤„ç†

```go
func apiHandler(ctx *node.Context) error {
    // ä¸šåŠ¡é€»è¾‘å¤„ç†
    result, err := businessLogic()
    if err != nil {
        // è¿”å›ä¸šåŠ¡é”™è¯¯
        return ex.Throw{
            Code: 400,
            Msg: "ä¸šåŠ¡å¤„ç†å¤±è´¥",
            Err: err,
        }
    }

    return ctx.Json(result)
}
```

### 2. å‚æ•°éªŒè¯

```go
func validateRequest(ctx *node.Context) error {
    username := utils.GetJsonString(ctx.JsonBody.Data, "username")
    if len(username) == 0 {
        return ex.Throw{
            Code: 400,
            Msg: "ç”¨æˆ·åä¸èƒ½ä¸ºç©º",
        }
    }

    return nil
}
```

### 3. å®‰å…¨é…ç½®

```go
func setupSecurity() {
    // 1. é…ç½®å¼ºå¯†é’¥
    jwtKey := generateSecureKey()

    // 2. è®¾ç½®åˆç†çš„è¿‡æœŸæ—¶é—´
    httpNode.AddJwtConfig(jwt.JwtConfig{
        TokenKey: jwtKey,
        TokenExp: jwt.ONE_HOUR, // 1å°æ—¶è¿‡æœŸ
    })

    // 3. å¯ç”¨åŠ å¯†é€šä¿¡
    cipher := &crypto.EccObj{}
    cipher.LoadS256ECC(privateKey)
    httpNode.AddCipher(cipher)
}
```

## ğŸ—„ï¸ FreeGo ORM é«˜æ€§èƒ½æ•°æ®åº“æ¡†æ¶

### æ¡†æ¶æ¦‚è¿°

FreeGo ORM æ˜¯ä¸€ä¸ªé«˜æ€§èƒ½çš„ Go è¯­è¨€ ORM æ¡†æ¶ï¼Œä¸“æ³¨äºæè‡´æ€§èƒ½ä¼˜åŒ–ï¼Œé€šè¿‡ç²¾ç¡®çš„å†…å­˜ç®¡ç†ã€é›¶åå°„æŠ€æœ¯å’Œæ™ºèƒ½å®¹é‡é¢„ä¼°ï¼Œå®ç°äº†æ¯”ä¸»æµ ORM æ¡†æ¶æ›´ä¼˜çš„æ€§èƒ½è¡¨ç°ã€‚

## ğŸ“Š æ‰¹é‡æŸ¥è¯¢åŸºå‡†æµ‹è¯• (FindList - æŸ¥è¯¢ 3000 è¡Œæ•°æ®)

### ğŸ”„ å¹¶å‘æ¨¡å¼æµ‹è¯• (æœ€æ–°æ¨è)

**ğŸ“ æµ‹è¯•æ¨¡å¼è¯´æ˜**: æ‰€æœ‰æ¡†æ¶å‡ä½¿ç”¨å¹¶å‘æ‰§è¡Œ (`b.RunParallel()`)ï¼Œå……åˆ†åˆ©ç”¨å¤šæ ¸ CPUï¼Œæ›´çœŸå®åœ°åæ˜ ç”Ÿäº§ç¯å¢ƒæ€§èƒ½ã€‚

#### ğŸ“Š å¹¶å‘æµ‹è¯•ç»“æœæ±‡æ€»

| æ¡†æ¶           | å¹³å‡æ—¶é—´/op | å†…å­˜åˆ†é…/op | åˆ†é…æ¬¡æ•°/op | ç›¸å¯¹æ€§èƒ½  | å†…å­˜æ•ˆç‡   |
| -------------- | ----------- | ----------- | ----------- | --------- | ---------- |
| **åŸç”Ÿ SQL**   | 1.67ms      | 8.5MB       | 60,053      | **1.00x** | â­â­â­â­â­ |
| **FreeGo ORM** | 1.99ms      | 7.1MB       | 95,123      | **1.19x** | â­â­â­â­â­ |
| **sqlx**       | 1.81ms      | 8.6MB       | 63,058      | **1.08x** | â­â­â­â­â­ |
| **GORM**       | 2.16ms      | 9.2MB       | 114,112     | **1.29x** | â­â­â­     |
| **Beego ORM**  | 2.51ms      | 15.8MB      | 237,221     | **1.50x** | â­â­       |
| **XORM**       | 2.85ms      | 19.1MB      | 279,189     | **1.71x** | â­â­       |

#### ğŸ¯ å¹¶å‘æµ‹è¯•å…³é”®å‘ç°

- **FreeGo ORM**: æ¥è¿‘åŸç”Ÿ SQL æ€§èƒ½ (ä»…æ…¢ 19%)ï¼Œå†…å­˜æ•ˆç‡æœ€ä¼˜ (èŠ‚çœ 16%)
- **å¹¶å‘æå‡**: å……åˆ†åˆ©ç”¨ 20 æ ¸ CPUï¼Œæ€§èƒ½æ˜¾è‘—ä¼˜äºé¡ºåºæ‰§è¡Œ
- **å†…å­˜æ•ˆç‡**: FreeGo ORM å†…å­˜ä½¿ç”¨æœ€ä½ï¼ŒGC å‹åŠ›æœ€å°
- **ç”Ÿäº§ç¯å¢ƒ**: å¹¶å‘æµ‹è¯•æ›´å‡†ç¡®åæ˜ çœŸå®åº”ç”¨åœºæ™¯

### ğŸ“Š é¡ºåºæ¨¡å¼æµ‹è¯• (å…¼å®¹æ€§å‚è€ƒ)

**ğŸ“ æµ‹è¯•æ¨¡å¼è¯´æ˜**: æ‰€æœ‰æ¡†æ¶å‡ä½¿ç”¨é¡ºåºå¾ªç¯æ‰§è¡Œ (`for i := 0; i < b.N; i++`)ï¼Œé¿å… Windows TCP è¿æ¥æ•°é™åˆ¶é—®é¢˜ï¼Œç¡®ä¿æµ‹è¯•ç¨³å®šæ€§ã€‚

#### ğŸ“Š é¡ºåºæµ‹è¯•ç»“æœæ±‡æ€»

| æ¡†æ¶                  | æ€§èƒ½ (ns/op) | å†…å­˜åˆ†é… (B/op) | åˆ†é…æ¬¡æ•° | ç›¸å¯¹æ€§èƒ½ | å†…å­˜æ•ˆç‡   |
| --------------------- | ------------ | --------------- | -------- | -------- | ---------- |
| **sqlx**              | 6,836,283    | 8,610,388       | 63,058   | **åŸºå‡†** | â­â­â­â­â­ |
| **åŸç”Ÿ database/sql** | 7,010,164    | 8,537,558       | 60,053   | +2.5%    | â­â­â­â­   |
| **Freego ORM**        | 8,931,733    | 6,824,803       | 93,139   | +30.7%   | â­â­â­â­   |
| **GORM**              | 9,248,400    | 9,194,923       | 114,118  | +35.3%   | â­â­â­     |
| **Beego ORM**         | 13,618,482   | 15,845,135      | 237,226  | +99.2%   | â­â­       |
| **xorm**              | 13,735,548   | 19,064,270      | 279,191  | +100.9%  | â­â­       |

## ğŸ” è¯¦ç»†æ€§èƒ½åˆ†æ

### ğŸš€ æ€§èƒ½å¯¹æ¯”åˆ†æ

#### ç»å¯¹æ€§èƒ½è¡¨ç° (å¹¶å‘æ¨¡å¼)

- **åŸç”Ÿ SQL**: 1,670,000 ns/op (1.67msï¼Œæœ€å¿«ï¼ŒåŸºç¡€æ•°æ®åº“æ“ä½œ)
- **FreeGo ORM**: 1,990,000 ns/op (1.99msï¼Œæ¯”åŸç”Ÿ SQL æ…¢ 19%ï¼Œé›¶åå°„ä¼˜åŒ–ï¼Œå†…å­˜æ•ˆç‡æœ€é«˜)
- **sqlx**: 1,810,000 ns/op (1.81msï¼Œæ¯”åŸç”Ÿ SQL æ…¢ 8%ï¼Œè½»é‡çº§å°è£…)
- **GORM**: 2,160,000 ns/op (2.16msï¼Œæ¯”åŸç”Ÿ SQL æ…¢ 29%ï¼ŒåŠŸèƒ½ä¸°å¯Œä½†æ€§èƒ½å¼€é”€è¾ƒå¤§)
- **Beego ORM**: 2,510,000 ns/op (2.51msï¼Œæ¯”åŸç”Ÿ SQL æ…¢ 50%ï¼ŒORM å¼€é”€æ˜¾è‘—)
- **XORM**: 2,850,000 ns/op (2.85msï¼Œæ¯”åŸç”Ÿ SQL æ…¢ 71%ï¼Œæ€§èƒ½å¼€é”€æœ€å¤§)

#### æ€§èƒ½å€æ•°å¯¹æ¯”

```
åŸç”Ÿ SQL â†’ FreeGo ORM:   1.19å€å·®è· (19% slower)
åŸç”Ÿ SQL â†’ sqlx:         1.08å€å·®è· (8% slower)
åŸç”Ÿ SQL â†’ GORM:         1.29å€å·®è· (29% slower)
åŸç”Ÿ SQL â†’ Beego ORM:    1.50å€å·®è· (50% slower)
åŸç”Ÿ SQL â†’ XORM:         1.71å€å·®è· (71% slower)
```

### ğŸ’¾ å†…å­˜åˆ†é…åˆ†æ

#### å†…å­˜ä½¿ç”¨å¯¹æ¯” (å¹¶å‘æ¨¡å¼)

- **FreeGo ORM**: 7.1 MB/op (å†…å­˜æ•ˆç‡æœ€é«˜ï¼Œæ¯”åŸç”Ÿ SQL èŠ‚çœ 16%)
- **åŸç”Ÿ SQL**: 8.5 MB/op (åŸºç¡€å†…å­˜å¼€é”€ï¼ŒåŸºå‡†)
- **sqlx**: 8.6 MB/op (è½»å¾®å¢åŠ ï¼Œ1% é¢å¤–å¼€é”€)
- **GORM**: 9.2 MB/op (è¾ƒé«˜å†…å­˜å¼€é”€ï¼Œ8% é¢å¤–å¼€é”€)
- **Beego ORM**: 15.8 MB/op (æ˜¾è‘—å†…å­˜å¼€é”€ï¼Œ86% é¢å¤–å¼€é”€)
- **XORM**: 19.1 MB/op (æœ€é«˜å†…å­˜å¼€é”€ï¼Œ125% é¢å¤–å¼€é”€)

#### å†…å­˜åˆ†é…æ•ˆç‡ (å¹¶å‘æ¨¡å¼)

```
FreeGo ORM:   95,123æ¬¡åˆ†é… - å¯æ§çš„åˆ†é…æ¬¡æ•°ï¼Œå†…å­˜æ•ˆç‡æœ€é«˜
åŸç”Ÿ SQL:     60,053æ¬¡åˆ†é… - åŸºç¡€GCå‹åŠ›ï¼Œåˆ†é…æ¬¡æ•°æœ€å°‘
sqlx:         63,058æ¬¡åˆ†é… - è½»å¾®å¢åŠ ï¼Œ5% é¢å¤–åˆ†é…
GORM:        114,112æ¬¡åˆ†é… - è¾ƒé«˜åˆ†é…æ¬¡æ•°ï¼Œ90% é¢å¤–åˆ†é…
Beego ORM:   237,221æ¬¡åˆ†é… - æ˜¾è‘—GCå‹åŠ›ï¼Œ295% é¢å¤–åˆ†é…
XORM:        279,189æ¬¡åˆ†é… - æœ€é«˜GCå‹åŠ›ï¼Œ366% é¢å¤–åˆ†é…
```

### ğŸ¯ æ ¸å¿ƒä¼˜åŒ–æŠ€æœ¯

#### 1. ç²¾ç¡®å®¹é‡é¢„åˆ†é…

**FreeGo ORM ä¼˜åŠ¿ï¼š**

- æ‰€æœ‰ `bytes.Buffer` å’Œ `slice` éƒ½ä½¿ç”¨ç²¾ç¡®å®¹é‡è®¡ç®—
- é›¶æ‰©å®¹ï¼Œé¿å…å†…å­˜é‡æ–°åˆ†é…
- å‡å°‘ GC å‹åŠ›ï¼Œæå‡æ•´ä½“æ€§èƒ½

**ä¸»æµæ¡†æ¶é—®é¢˜ï¼š**

- ä½¿ç”¨å›ºå®šå®¹é‡æˆ–åŠ¨æ€æ‰©å®¹
- é¢‘ç¹çš„å†…å­˜é‡æ–°åˆ†é…
- å¢åŠ  GC å‹åŠ›

```go
// FreeGo ORM - ç²¾ç¡®å®¹é‡é¢„åˆ†é…
estimatedSize := 12 + len(tableName) + len(fields) + len(conditions)
sqlbuf := bytes.NewBuffer(make([]byte, 0, estimatedSize))

// ä¸»æµæ¡†æ¶ - åŠ¨æ€æ‰©å®¹
sqlbuf := bytes.NewBufferString("")
```

#### 2. é›¶åå°„æŠ€æœ¯

**FreeGo ORM ä¼˜åŠ¿ï¼š**

- ä½¿ç”¨ä¸­é—´ `[]sqlc.Object` åˆ‡ç‰‡é¿å…åå°„
- ç›´æ¥å†…å­˜æ“ä½œï¼Œæ€§èƒ½æå‡æ˜¾è‘—
- ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨

**ä¸»æµæ¡†æ¶é—®é¢˜ï¼š**

- å¤§é‡ä½¿ç”¨åå°„è¿›è¡Œç±»å‹è½¬æ¢
- è¿è¡Œæ—¶ç±»å‹æ£€æŸ¥å¼€é”€
- æ€§èƒ½æŸå¤±æ˜æ˜¾

#### 3. é€’å½’ OR æ¡ä»¶é¢„ä¼°

**FreeGo ORM ä¼˜åŠ¿ï¼š**

- é€’å½’è®¡ç®— OR æ¡ä»¶çš„ç²¾ç¡®å®¹é‡
- 100%ç²¾ç¡®é¢„ä¼°ï¼Œé›¶è¯¯å·®
- å¤æ‚æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–

```go
// FreeGo ORM - é€’å½’ORæ¡ä»¶é¢„ä¼°
func estimatedSizePre(cnd *sqlc.Cnd, estimated *estimatedObject) {
    for _, v := range cnd.Conditions {
        switch v.Logic {
        case sqlc.OR_:
            for _, v := range v.Values {
                cnd, ok := v.(*sqlc.Cnd)
                if !ok {
                    continue
                }
                subEstimated := &estimatedObject{}
                estimatedSizePre(cnd, subEstimated) // é€’å½’è°ƒç”¨
                // ç²¾ç¡®è®¡ç®—å®¹é‡
            }
        }
    }
}
```

### ğŸ”§ æŠ€æœ¯ç‰¹æ€§å¯¹æ¯”

#### å†…å­˜ç®¡ç†

| ç‰¹æ€§       | FreeGo ORM  | GORM        | XORM        | Beego ORM   |
| ---------- | ----------- | ----------- | ----------- | ----------- |
| å®¹é‡é¢„åˆ†é… | âœ… ç²¾ç¡®è®¡ç®— | âŒ å›ºå®šå®¹é‡ | âŒ åŠ¨æ€æ‰©å®¹ | âŒ è¿‡åº¦åˆ†é… |
| é›¶æ‰©å®¹     | âœ… 100%     | âŒ é¢‘ç¹æ‰©å®¹ | âŒ é¢‘ç¹æ‰©å®¹ | âŒ é¢‘ç¹æ‰©å®¹ |
| GC ä¼˜åŒ–    | âœ… æœ€å°åŒ–   | âŒ å‹åŠ›å¤§   | âŒ å‹åŠ›å¤§   | âŒ å‹åŠ›å¤§   |

#### åå°„ä½¿ç”¨

| ç‰¹æ€§     | FreeGo ORM  | GORM        | XORM        | Beego ORM   |
| -------- | ----------- | ----------- | ----------- | ----------- |
| é›¶åå°„   | âœ… å…³é”®è·¯å¾„ | âŒ å¤§é‡ä½¿ç”¨ | âŒ å¤§é‡ä½¿ç”¨ | âŒ å¤§é‡ä½¿ç”¨ |
| ç±»å‹å®‰å…¨ | âœ… ç¼–è¯‘æ—¶   | âŒ è¿è¡Œæ—¶   | âŒ è¿è¡Œæ—¶   | âŒ è¿è¡Œæ—¶   |
| æ€§èƒ½æŸå¤± | âœ… æœ€å°     | âŒ æ˜æ˜¾     | âŒ æ˜æ˜¾     | âŒ æ˜æ˜¾     |

#### å¹¶å‘æ€§èƒ½

| ç‰¹æ€§     | FreeGo ORM  | GORM        | XORM        | Beego ORM   |
| -------- | ----------- | ----------- | ----------- | ----------- |
| è¿æ¥æ±    | âœ… æ™ºèƒ½ç®¡ç† | âœ… æ”¯æŒ     | âœ… æ”¯æŒ     | âœ… æ”¯æŒ     |
| ç¼“å­˜æœºåˆ¶ | âœ… é«˜çº§ç¼“å­˜ | âŒ åŸºç¡€ç¼“å­˜ | âŒ åŸºç¡€ç¼“å­˜ | âŒ åŸºç¡€ç¼“å­˜ |
| å¹¶å‘å®‰å…¨ | âœ… åŸå­æ“ä½œ | âœ… æ”¯æŒ     | âœ… æ”¯æŒ     | âœ… æ”¯æŒ     |

### ğŸ” ORM ä¼˜ç¼ºç‚¹å¯¹æ¯”

#### FreeGo ORM

**ä¼˜ç‚¹ï¼š**

- âœ… æè‡´æ€§èƒ½ä¼˜åŒ–
- âœ… é›¶å†…å­˜æµªè´¹
- âœ… é›¶åå°„å¼€é”€
- âœ… æ™ºèƒ½å®¹é‡ç®¡ç†
- âœ… é«˜å¹¶å‘æ€§èƒ½
- âœ… ç”Ÿäº§çº§ç¨³å®šæ€§

**ç¼ºç‚¹ï¼š**

- âŒ å­¦ä¹ æ›²çº¿è¾ƒé™¡
- âŒ ç¤¾åŒºç›¸å¯¹è¾ƒå°
- âŒ åŠŸèƒ½ç›¸å¯¹ç²¾ç®€

#### ä¸»æµæ¡†æ¶ (GORM/XORM/Beego ORM)

**ä¼˜ç‚¹ï¼š**

- âœ… åŠŸèƒ½ä¸°å¯Œå®Œæ•´
- âœ… ç¤¾åŒºæ”¯æŒå¼ºå¤§
- âœ… æ–‡æ¡£è¯¦ç»†å®Œå–„
- âœ… å­¦ä¹ èµ„æºä¸°å¯Œ
- âœ… ç”Ÿæ€æˆç†Ÿ

**ç¼ºç‚¹ï¼š**

- âŒ æ€§èƒ½ç›¸å¯¹è¾ƒä½
- âŒ å†…å­˜ä½¿ç”¨è¾ƒå¤š
- âŒ åå°„å¼€é”€å¤§
- âŒ å¹¶å‘æ€§èƒ½å—é™

### ğŸ¯ é€‚ç”¨åœºæ™¯

#### FreeGo ORM é€‚åˆï¼š

1. **é«˜æ€§èƒ½è¦æ±‚**ï¼šéœ€è¦æè‡´æ€§èƒ½çš„åº”ç”¨
2. **å¤§è§„æ¨¡å¹¶å‘**ï¼šé«˜å¹¶å‘è®¿é—®çš„ Web åº”ç”¨
3. **å†…å­˜æ•æ„Ÿ**ï¼šå†…å­˜ä½¿ç”¨è¦æ±‚ä¸¥æ ¼çš„åº”ç”¨
4. **å¤æ‚æŸ¥è¯¢**ï¼šéœ€è¦å¤æ‚ SQL æŸ¥è¯¢çš„åº”ç”¨
5. **é‡‘èçº§ç³»ç»Ÿ**ï¼šå¯¹æ€§èƒ½å’Œç¨³å®šæ€§è¦æ±‚æé«˜çš„ç³»ç»Ÿ

#### ä¸»æµæ¡†æ¶é€‚åˆï¼š

1. **å¿«é€Ÿå¼€å‘**ï¼šéœ€è¦å¿«é€ŸåŸå‹å¼€å‘
2. **ç®€å•åº”ç”¨**ï¼šåŠŸèƒ½ç›¸å¯¹ç®€å•çš„åº”ç”¨
3. **å­¦ä¹ ä½¿ç”¨**ï¼šå­¦ä¹  ORM æ¦‚å¿µå’Œç”¨æ³•
4. **ç¤¾åŒºæ”¯æŒ**ï¼šéœ€è¦å¤§é‡ç¤¾åŒºæ”¯æŒçš„é¡¹ç›®

## ğŸ¯ æ€»ç»“

FreeGo æ¡†æ¶æä¾›äº†å®Œæ•´çš„ Web æœåŠ¡å’Œæ•°æ®åº“è§£å†³æ–¹æ¡ˆï¼Œå…·æœ‰ä»¥ä¸‹æ ¸å¿ƒä¼˜åŠ¿ï¼š

### ğŸ† **FreeGo æ ¸å¿ƒä¼˜åŠ¿**

#### **Server & API æ¡†æ¶**

| ä¼˜åŠ¿              | ç‰¹æ€§                | é€‚ç”¨åœºæ™¯        |
| ----------------- | ------------------- | --------------- |
| ğŸš€ **æè‡´æ€§èƒ½**   | FastHTTP + ä¼˜åŒ–æ¶æ„ | é«˜å¹¶å‘ Web æœåŠ¡ |
| ğŸ” **é‡‘èçº§å®‰å…¨** | JWT + RSA/ECC + AES | é‡‘èã€æ”¯ä»˜ç³»ç»Ÿ  |
| ğŸ›¡ï¸ **ä¼ä¸šçº§åŠŸèƒ½** | RBAC + é™æµ + ç›‘æ§  | ä¼ä¸šçº§åº”ç”¨      |
| ğŸ”§ **å¼€å‘å‹å¥½**   | ç®€æ´ API + å®Œæ•´æ–‡æ¡£ | å¿«é€Ÿå¼€å‘        |

#### **ORM æ•°æ®åº“æ¡†æ¶**

| ä¼˜åŠ¿              | ç‰¹æ€§                | æ€§èƒ½æå‡               |
| ----------------- | ------------------- | ---------------------- |
| âš¡ **é›¶å¼€é”€ä¼˜åŒ–** | é›¶åå°„ + é›¶å†…å­˜æµªè´¹ | **å‡å°‘ 90%+ GC å‹åŠ›**  |
| ğŸ§  **æ™ºèƒ½ä¼˜åŒ–**   | ç²¾ç¡®é¢„ä¼° + å¯¹è±¡æ±    | æ€§èƒ½åª²ç¾ä¸»æµï¼Œå†…å­˜ä½è€— |
| ğŸ”„ **é«˜å¹¶å‘**     | åŸå­æ“ä½œ + è¿æ¥æ±    | æ”¯æŒ 10,000+ å¹¶å‘      |
| ğŸ“Š **ç”Ÿäº§å°±ç»ª**   | ä¼ä¸šçº§ç¨³å®šæ€§        | é‡‘èçº§æ•°æ®æ“ä½œ         |

### ğŸ¯ **é€‰æ‹©æŒ‡å—**

| éœ€æ±‚åœºæ™¯                     | æ¨èé€‰æ‹©           | ç†ç”±                      |
| ---------------------------- | ------------------ | ------------------------- |
| **ğŸš€ æ€§èƒ½ä¼˜å…ˆ + é‡‘èçº§å®‰å…¨** | â­ **FreeGo å…¨æ ˆ** | æœ€ä½³æ€§èƒ½ + é‡‘èçº§å®‰å…¨ä¿éšœ |
| **âš¡ é«˜å¹¶å‘ + å¤§æ•°æ®é‡**     | â­ **FreeGo ORM**  | é›¶å¼€é”€ä¼˜åŒ–ï¼Œæ”¯æ’‘æµ·é‡æ•°æ®  |
| **ğŸ”§ å¿«é€Ÿå¼€å‘ + åŠŸèƒ½ä¸°å¯Œ**   | GORM/XORM/Beego    | æˆç†Ÿç”Ÿæ€ï¼Œé™ä½å­¦ä¹ æˆæœ¬    |
| **ğŸ¢ ä¼ä¸šé›†æˆ + å…¨æ ˆå¼€å‘**   | Beego + FreeGo ORM | æ¡†æ¶ååŒï¼Œæœ€ä½³å¹³è¡¡        |

### ğŸ“ˆ **æ€§èƒ½å¯¹æ¯”æ€»ç»“**

```
FreeGo ORM å¹¶å‘æ¨¡å¼æ€§èƒ½å¯¹æ¯” (3000è¡Œæ•°æ®æŸ¥è¯¢):

åŸç”ŸSQL      â†’ åŸºå‡†æ€§èƒ½ (1.67ms)
FreeGo ORM   â†’ +19% â­ (1.99ms, é›¶åå°„ä¼˜åŒ–ï¼Œå†…å­˜æ•ˆç‡æœ€é«˜)
sqlx         â†’ +8% (1.81ms, è½»é‡çº§å°è£…)
GORM         â†’ +29% (2.16ms, åŠŸèƒ½ä¸°å¯Œ)
Beego ORM    â†’ +50% (2.51ms, å…¨æ ˆé›†æˆ)
XORM         â†’ +71% (2.85ms, ä¼ ç»ŸORM)

å…³é”®ä¼˜åŠ¿ï¼š
â€¢ å¹¶å‘æ€§èƒ½: å……åˆ†åˆ©ç”¨å¤šæ ¸CPUï¼Œæ€§èƒ½æå‡æ˜¾è‘—
â€¢ å†…å­˜æ•ˆç‡: FreeGo ORMå†…å­˜ä½¿ç”¨æœ€ä½ï¼ŒGCå‹åŠ›æœ€å°
â€¢ ç”Ÿäº§å°±ç»ª: å¹¶å‘æµ‹è¯•æ›´å‡†ç¡®åæ˜ çœŸå®åº”ç”¨åœºæ™¯
```

### ğŸŒŸ **ä¸ºä»€ä¹ˆé€‰æ‹© FreeGo**

- **ğŸ¯ æ€§èƒ½ä¼˜ç§€**: å†…å­˜æ•ˆç‡é¢†å…ˆä¸»æµæ¡†æ¶ï¼Œé«˜é¢‘ SQL åœºæ™¯æ€§èƒ½ä¼˜å¼‚
- **ğŸ”’ é‡‘èçº§å®‰å…¨**: ç¬¦åˆ PCI DSSã€ISO 27001 ç­‰æ ‡å‡†
- **ğŸ—ï¸ æ¶æ„ä¼˜é›…**: æ¨¡å—åŒ–è®¾è®¡ï¼Œä¼ä¸šçº§æ¶æ„
- **ğŸ“š æ–‡æ¡£å®Œå–„**: è¯¦ç»†æ–‡æ¡£ + ä¸°å¯Œç¤ºä¾‹
- **ğŸš€ ç”Ÿäº§å°±ç»ª**: ä¼ä¸šçº§ç›‘æ§ã€éƒ¨ç½²æ–¹æ¡ˆ

---

## ğŸ“ è”ç³»ä¸æ”¯æŒ

- ğŸ“§ **Github**: [https://github.com/godaddy-x]
- ğŸ› **Issues**: [GitHub Issues](https://github.com/godaddy-x/freego/issues)
- ğŸ“– **æ–‡æ¡£**: [è¯¦ç»†æ–‡æ¡£](./docs/)
- ğŸ’¬ **è®¨è®º**: [GitHub Discussions](https://github.com/godaddy-x/freego/discussions)

---

_â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ª Starï¼_
